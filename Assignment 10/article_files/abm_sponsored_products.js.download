//This is a js file that will figure out if the height of the sponsored-products-v2-content id and apply the appoprauite CSS adjustemens tot the right region

//(
//$) {
	//$(this).ready(function() {
	//(function(	//$currentHeight = $('#sponsored-products-v2-content').height();
	
jQuery(document).ready(function() {
  
  //jQuery.fn.exists = function() { return this.length>0; };
  
if (jQuery('#sponsored-products-v2-content').length != 0) {
//if (jQuery('#sponsored-products-v2-content').exists()) {

  var adjustedHeight = jQuery('#sponsored-products-v2-content').height() + 150;
  //var adjustedHeight = parseInt(jQuery('#sponsored-products-v2-content').height() + 250) + "px";
  
  //var negativeAdjustedHeight = 0 - adjustedHeight;

  var adjustedHeight2 = adjustedHeight + jQuery('#accordion-abm .ui-accordion-content').height();
  //var negativeAdjustedHeight = parseInt(0 - adjustedHeight2);
		
//var marginTop = parseInt(footerheight) * -1;
		
  console.log("Current height of Sponsored Products = " + adjustedHeight);
  console.log("Original height of Accordion = " + adjustedHeight2);

  //jQuery('.region-sidebar-second').css("margin-top",adjustedHeight);
  //jQuery('.region-sidebar-second #block-search-form').css("margin-top", - adjustedHeight);
  jQuery('.region-sidebar-second #block-search-form').css("margin-bottom", adjustedHeight);
		
  jQuery('#accordion-abm h3.ui-accordion-header').click(function() {
    console.log("CLICK");
    var adjustedHeight3 = jQuery('#accordion-abm .ui-accordion-content').height();
    console.log("New height of Accordion = " + adjustedHeight3);

    //if (jQuery('#accordion-abm div.ui-accordion-content').css('display') == 'none') {
    if (jQuery(this).hasClass('ui-state-active')) {
      console.log("DISPLAY BLOCK == YES");
      jQuery('.region-sidebar-second #block-search-form').css("margin-bottom", adjustedHeight2);
    } else {
      console.log("DISPLAY BLOCK == NO");
      jQuery('.region-sidebar-second #block-search-form').css("margin-bottom",adjustedHeight);
    };
  });
};
});